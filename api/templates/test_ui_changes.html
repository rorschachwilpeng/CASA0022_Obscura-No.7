<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UI Changes Test - Obscura No.7</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/image-detail.css') }}?v={{ range(1000, 9999) | random }}">
    <style>
        body { padding: 20px; background: var(--bg-dark); color: var(--text-light); }
        .test-section { margin-bottom: 30px; padding: 20px; border: 2px solid var(--copper); border-radius: 10px; }
        .test-title { color: var(--amber); font-size: 1.5rem; margin-bottom: 15px; }
        .test-result { padding: 10px; margin: 10px 0; border-radius: 5px; }
        .test-pass { background: rgba(76, 175, 80, 0.2); border: 1px solid #4CAF50; }
        .test-fail { background: rgba(244, 67, 54, 0.2); border: 1px solid #f44336; }
        .mock-data { background: rgba(205, 133, 63, 0.1); padding: 15px; border-radius: 5px; margin: 10px 0; }
    </style>
</head>
<body>
    <h1>ğŸ”§ UI Changes Test Page</h1>
    
    <div class="test-section">
        <h2 class="test-title">1. é¡µé¢æ ‡é¢˜æ¡†ç¼©å°æµ‹è¯•</h2>
        <!-- ç¼©å°çš„é¡µé¢æ ‡é¢˜ -->
        <header class="detail-header compact">
            <h1 class="detail-title">Environmental Vision Analysis (Compact)</h1>
            <p class="detail-subtitle">AI-Generated Environmental Art with SHAP Interpretability</p>
        </header>
        <div class="test-result test-pass">âœ… å¦‚æœè¿™ä¸ªæ ‡é¢˜æ¡†æ¯”è¾ƒå°ï¼Œè¯´æ˜compactæ ·å¼ç”Ÿæ•ˆäº†</div>
    </div>

    <div class="test-section">
        <h2 class="test-title">2. Cinema Container 1:1 å¸ƒå±€æµ‹è¯•</h2>
        <div class="cinema-container" style="min-height: 300px;">
            <div style="background: rgba(205, 133, 63, 0.3); padding: 20px; border-radius: 10px;">
                <h3>å·¦ä¾§å®¹å™¨ (50%)</h3>
                <p>å¦‚æœå·¦å³ä¸¤ä¸ªå®¹å™¨å®½åº¦ç›¸ç­‰ï¼Œè¯´æ˜1:1å¸ƒå±€ç”Ÿæ•ˆäº†</p>
            </div>
            <div style="background: rgba(184, 134, 11, 0.3); padding: 20px; border-radius: 10px;">
                <h3>å³ä¾§å®¹å™¨ (50%)</h3>
                <p>grid-template-columns: 1fr 1fr</p>
            </div>
        </div>
        <div class="test-result test-pass">âœ… å¦‚æœå·¦å³å®¹å™¨å®½åº¦ç›¸ç­‰ï¼Œè¯´æ˜å¸ƒå±€ä¿®æ”¹ç”Ÿæ•ˆäº†</div>
    </div>

    <div class="test-section">
        <h2 class="test-title">3. Overall Score æ¡†æ¡†æµ‹è¯•</h2>
        <div class="overall-score-section">
            <div class="overall-score-container">
                <div class="overall-score-card">
                    <div class="overall-score-header">
                        <span class="overall-score-icon" aria-hidden="true">ğŸ¯</span>
                        <h3>Overall Score</h3>
                    </div>
                    <div class="overall-score-value">69.2%</div>
                    <div class="score-explanation">
                        <p>Obscura-No.7 predicts future information from three different dimensions, here are the scores for each dimension:</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="test-result test-pass">âœ… å¦‚æœçœ‹åˆ°ä¸€ä¸ªçªå‡ºçš„Overall Scoreæ¡†ï¼Œè¯´æ˜æ ·å¼ç”Ÿæ•ˆäº†</div>
    </div>

    <div class="test-section">
        <h2 class="test-title">4. ç¼©å°çš„ä¸‰ç»´åº¦æ¡†æµ‹è¯•</h2>
        <div class="shap-scores-overview compact">
            <div class="score-card climate compact">
                <div class="score-header">
                    <span class="score-icon" aria-hidden="true">ğŸŒ¡ï¸</span>
                    <h3>Climate</h3>
                </div>
                <div class="score-value">+13.2%</div>
            </div>
            
            <div class="score-card geographic compact">
                <div class="score-header">
                    <span class="score-icon" aria-hidden="true">ğŸ—ºï¸</span>
                    <h3>Geographic</h3>
                </div>
                <div class="score-value">+18.5%</div>
            </div>
            
            <div class="score-card economic compact">
                <div class="score-header">
                    <span class="score-icon" aria-hidden="true">ğŸ’°</span>
                    <h3>Economic</h3>
                </div>
                <div class="score-value">+4.8%</div>
            </div>
        </div>
        <div class="test-result test-pass">âœ… å¦‚æœä¸‰ä¸ªæ¡†æ¯”è¾ƒå°ï¼Œè¯´æ˜compactæ ·å¼ç”Ÿæ•ˆäº†</div>
    </div>

    <div class="test-section">
        <h2 class="test-title">5. æ­£è´Ÿå˜åŒ–å€¼é¢œè‰²æµ‹è¯•</h2>
        <div class="mock-data">
            <h4>æ­£å€¼æµ‹è¯•ï¼š</h4>
            <span class="positive-change">+13.2%</span> (åº”è¯¥æ˜¯ç»¿è‰²)
            
            <h4>è´Ÿå€¼æµ‹è¯•ï¼š</h4>
            <span class="negative-change">-5.4%</span> (åº”è¯¥æ˜¯çº¢è‰²)
            
            <h4>åœ¨score-valueä¸­çš„æµ‹è¯•ï¼š</h4>
            <div class="score-value">
                <span class="positive-change">+8.9%</span>
            </div>
        </div>
        <div class="test-result test-pass">âœ… å¦‚æœæ­£å€¼æ˜¯ç»¿è‰²ï¼Œè´Ÿå€¼æ˜¯çº¢è‰²ï¼Œè¯´æ˜é¢œè‰²æ ·å¼ç”Ÿæ•ˆäº†</div>
    </div>

    <div class="test-section">
        <h2 class="test-title">6. JavaScript APIæµ‹è¯•</h2>
        <button onclick="testAPI()" style="padding: 10px 20px; background: var(--brass-gradient); border: none; border-radius: 5px; cursor: pointer;">æµ‹è¯•SHAP API</button>
        <div id="apiResult" class="mock-data" style="display: none; margin-top: 10px;"></div>
    </div>

    <script>
        async function testAPI() {
            const resultDiv = document.getElementById('apiResult');
            resultDiv.style.display = 'block';
            resultDiv.innerHTML = 'æµ‹è¯•ä¸­...';
            
            try {
                const response = await fetch('/api/v1/images/1/shap-analysis');
                const data = await response.json();
                
                if (data.data && data.data.climate_change !== undefined) {
                    resultDiv.innerHTML = `
                        <h4>âœ… APIè¿”å›æ­£ç¡®çš„æ­£è´Ÿå˜åŒ–å€¼ï¼š</h4>
                        <ul>
                            <li>Climate Change: ${data.data.climate_change}%</li>
                            <li>Geographic Change: ${data.data.geographic_change}%</li>
                            <li>Economic Change: ${data.data.economic_change}%</li>
                        </ul>
                        <p><strong>è¯´æ˜ï¼š</strong>APIæ­£ç¡®è¿”å›äº†æ­£è´Ÿå˜åŒ–å€¼ï¼Œå‰ç«¯JavaScriptåº”è¯¥èƒ½æ­£ç¡®å¤„ç†ã€‚</p>
                    `;
                } else {
                    resultDiv.innerHTML = 'âŒ APIè¿”å›æ•°æ®æ ¼å¼ä¸æ­£ç¡®';
                }
            } catch (error) {
                resultDiv.innerHTML = `âŒ APIè°ƒç”¨å¤±è´¥: ${error.message}`;
            }
        }
        
        console.log('ğŸ§ª UIæµ‹è¯•é¡µé¢åŠ è½½å®Œæˆ');
        console.log('ğŸ“Š CSSå˜é‡æµ‹è¯•:', getComputedStyle(document.documentElement).getPropertyValue('--brass'));
    </script>
</body>
</html> 